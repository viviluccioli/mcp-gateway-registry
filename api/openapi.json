{
  "openapi": "3.1.0",
  "info": {
    "title": "MCP Gateway Registry",
    "description": "A registry and management system for Model Context Protocol (MCP) servers",
    "version": "v1.0.8"
  },
  "paths": {
    "/api/auth/login": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login Form",
        "description": "Show login form with OAuth2 providers",
        "operationId": "login_form_api_auth_login_get",
        "parameters": [
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login Submit",
        "description": "Handle login form submission - supports both traditional and API calls",
        "operationId": "login_submit_api_auth_login_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_submit_api_auth_login_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/auth/{provider}": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Oauth2 Login Redirect",
        "description": "Redirect to auth server for OAuth2 login",
        "operationId": "oauth2_login_redirect_api_auth_auth__provider__get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/auth/callback": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Oauth2 Callback",
        "description": "Handle OAuth2 callback from auth server",
        "operationId": "oauth2_callback_api_auth_auth_callback_get",
        "parameters": [
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Error"
            }
          },
          {
            "name": "details",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Details"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout Get",
        "description": "Handle logout via GET request (for URL navigation)",
        "operationId": "logout_get_api_auth_logout_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout Post",
        "description": "Handle logout via POST request (for forms)",
        "operationId": "logout_post_api_auth_logout_post",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/providers": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Providers Api",
        "description": "API endpoint to get available OAuth2 providers for React frontend",
        "operationId": "get_providers_api_api_auth_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/auth/config": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Auth Config",
        "description": "API endpoint to get auth configuration for React frontend",
        "operationId": "get_auth_config_api_auth_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Read Root",
        "description": "Main dashboard page showing services based on user permissions.",
        "operationId": "read_root_api__get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Servers Json",
        "description": "Get servers data as JSON for React frontend and external API (supports both session cookies and Bearer tokens).",
        "operationId": "get_servers_json_api_servers_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/toggle/{service_path}": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Toggle Service Route",
        "description": "Toggle a service on/off (requires toggle_service UI permission).",
        "operationId": "toggle_service_route_api_toggle__service_path__post",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_toggle_service_route_api_toggle__service_path__post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/register": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Register Service",
        "description": "Register a new service (requires register_service UI permission).",
        "operationId": "register_service_api_register_post",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_register_service_api_register_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/register": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Register Service",
        "description": "Internal service registration endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_register_service_api_internal_register_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_register_service_api_internal_register_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/remove": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Remove Service",
        "description": "Internal service removal endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_remove_service_api_internal_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_remove_service_api_internal_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/toggle": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Toggle Service",
        "description": "Internal service toggle endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_toggle_service_api_internal_toggle_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_toggle_service_api_internal_toggle_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/healthcheck": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Healthcheck",
        "description": "Internal health check endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_healthcheck_api_internal_healthcheck_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/edit/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Edit Server Form",
        "description": "Show edit form for a service (requires modify_service UI permission).",
        "operationId": "edit_server_form_api_edit__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Edit Server Submit",
        "description": "Handle server edit form submission (requires modify_service UI permission).",
        "operationId": "edit_server_submit_api_edit__service_path__post",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_edit_server_submit_api_edit__service_path__post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tokens": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Token Generation Page",
        "description": "Show token generation page for authenticated users.",
        "operationId": "token_generation_page_api_tokens_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/server_details/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Details",
        "description": "Get server details by path, or all servers if path is 'all' (filtered by permissions).",
        "operationId": "get_server_details_api_server_details__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tools/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Service Tools",
        "description": "Get tool list for a service (filtered by permissions).",
        "operationId": "get_service_tools_api_tools__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/refresh/{service_path}": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Refresh Service",
        "description": "Refresh service health and tool information (requires health_check_service permission).",
        "operationId": "refresh_service_api_refresh__service_path__post",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          },
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/add-to-groups": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Add Server To Groups",
        "description": "Internal endpoint to add a server to specific scopes groups (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_add_server_to_groups_api_internal_add_to_groups_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_add_server_to_groups_api_internal_add_to_groups_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/remove-from-groups": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Remove Server From Groups",
        "description": "Internal endpoint to remove a server from specific scopes groups (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_remove_server_from_groups_api_internal_remove_from_groups_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_remove_server_from_groups_api_internal_remove_from_groups_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/list": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal List Services",
        "description": "Internal service listing endpoint for mcpgw-server (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_list_services_api_internal_list_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/create-group": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Create Group",
        "description": "Internal endpoint to create a new group in both Keycloak and scopes.yml (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_create_group_api_internal_create_group_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_create_group_api_internal_create_group_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/delete-group": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal Delete Group",
        "description": "Internal endpoint to delete a group from both Keycloak and scopes.yml (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_delete_group_api_internal_delete_group_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_internal_delete_group_api_internal_delete_group_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/internal/list-groups": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Internal List Groups",
        "description": "Internal endpoint to list groups from Keycloak and/or scopes.yml (requires HTTP Basic Authentication with admin credentials).",
        "operationId": "internal_list_groups_api_internal_list_groups_get",
        "parameters": [
          {
            "name": "include_keycloak",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Keycloak"
            }
          },
          {
            "name": "include_scopes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Scopes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/tokens/generate": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Generate User Token",
        "description": "Generate a JWT token for the authenticated user.\n\nRequest body should contain:\n{\n    \"requested_scopes\": [\"scope1\", \"scope2\"],  // Optional, defaults to user's current scopes\n    \"expires_in_hours\": 8,                     // Optional, defaults to 8 hours\n    \"description\": \"Token for automation\"      // Optional description\n}\n\nReturns:\n    Generated JWT token with expiration info\n\nRaises:\n    HTTPException: If request fails or user lacks permissions",
        "operationId": "generate_user_token_api_tokens_generate_post",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/admin/tokens": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Admin Tokens",
        "description": "Admin-only endpoint to retrieve JWT tokens from Keycloak.\n\nReturns both access token and refresh token for admin users.\n\nReturns:\n    JSON object containing access_token, refresh_token, expires_in, etc.\n\nRaises:\n    HTTPException: If user is not admin or token retrieval fails",
        "operationId": "get_admin_tokens_api_admin_tokens_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/register": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Register Service Api",
        "description": "Register a service via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/register\nbut uses modern JWT Bearer token authentication via nginx headers, making it\nsuitable for external service-to-service communication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `name` (required): Service name\n- `description` (required): Service description\n- `path` (required): Service path (e.g., /myservice)\n- `proxy_pass_url` (required): Proxy URL (e.g., http://localhost:8000)\n- `tags` (optional): Comma-separated tags\n- `num_tools` (optional): Number of tools\n- `num_stars` (optional): Star rating\n- `is_python` (optional): Is Python server (boolean)\n- `license` (optional): License name\n- `overwrite` (optional): Overwrite if exists (boolean, default true)\n- `auth_provider` (optional): Auth provider name\n- `auth_type` (optional): Auth type (e.g., oauth, basic)\n- `supported_transports` (optional): JSON array of transports\n- `headers` (optional): JSON object of headers\n- `tool_list_json` (optional): JSON array of tool definitions\n\n**Response:**\n- `201 Created`: Service registered successfully\n- `400 Bad Request`: Invalid input data\n- `401 Unauthorized`: Missing or invalid JWT token\n- `409 Conflict`: Service already exists (unless overwrite=true)\n- `500 Internal Server Error`: Server error\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/register \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"name=My Service\" \\\n  -F \"description=My MCP Service\" \\\n  -F \"path=/myservice\" \\\n  -F \"proxy_pass_url=http://localhost:8000\"\n```",
        "operationId": "register_service_api_api_servers_register_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_register_service_api_api_servers_register_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/toggle": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Toggle Service Api",
        "description": "Toggle a service's enabled/disabled state via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/toggle\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `path` (required): Service path\n- `new_state` (required): New state (true=enabled, false=disabled)\n\n**Response:**\nReturns the updated service status.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/toggle \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"path=/myservice\" \\\n  -F \"new_state=true\"\n```",
        "operationId": "toggle_service_api_api_servers_toggle_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_toggle_service_api_api_servers_toggle_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/remove": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Remove Service Api",
        "description": "Remove a service via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/remove\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `path` (required): Service path to remove\n\n**Response:**\nReturns confirmation of removal.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/remove \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"path=/myservice\"\n```",
        "operationId": "remove_service_api_api_servers_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_remove_service_api_api_servers_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/health": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Healthcheck Api",
        "description": "Get health status for all registered services via JWT authentication (External API).\n\nThis endpoint provides the same functionality as GET /api/internal/healthcheck\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Response:**\nReturns health status for all services.\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/health \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "healthcheck_api_api_servers_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/add": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Add Server To Groups Api",
        "description": "Add a service to scope groups via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/add-to-groups\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `server_name` (required): Service name\n- `group_names` (required): Comma-separated list of group names\n\n**Response:**\nReturns confirmation of group assignment.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/add \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"server_name=myservice\" \\\n  -F \"group_names=admin,developers\"\n```",
        "operationId": "add_server_to_groups_api_api_servers_groups_add_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_add_server_to_groups_api_api_servers_groups_add_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/remove": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Remove Server From Groups Api",
        "description": "Remove a service from scope groups via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/remove-from-groups\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `server_name` (required): Service name\n- `group_names` (required): Comma-separated list of group names to remove\n\n**Response:**\nReturns confirmation of removal from groups.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/remove \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"server_name=myservice\" \\\n  -F \"group_names=developers\"\n```",
        "operationId": "remove_server_from_groups_api_api_servers_groups_remove_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_remove_server_from_groups_api_api_servers_groups_remove_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/create": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Create Group Api",
        "description": "Create a new scope group via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/create-group\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `group_name` (required): Name of the new group\n- `description` (optional): Group description\n- `create_in_keycloak` (optional): Whether to create in Keycloak (default: true)\n\n**Response:**\nReturns confirmation of group creation.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/create \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"group_name=new-team\" \\\n  -F \"description=Team for new project\" \\\n  -F \"create_in_keycloak=true\"\n```",
        "operationId": "create_group_api_api_servers_groups_create_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_create_group_api_api_servers_groups_create_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups/delete": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Delete Group Api",
        "description": "Delete a scope group via JWT authentication (External API).\n\nThis endpoint provides the same functionality as POST /api/internal/delete-group\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Request body (form data):**\n- `group_name` (required): Name of the group to delete\n- `delete_from_keycloak` (optional): Whether to delete from Keycloak (default: true)\n- `force` (optional): Force deletion of system groups (default: false)\n\n**Response:**\nReturns confirmation of group deletion.\n\n**Example:**\n```bash\ncurl -X POST https://registry.example.com/api/servers/groups/delete \\\n  -H \"Authorization: Bearer $JWT_TOKEN\" \\\n  -F \"group_name=old-team\" \\\n  -F \"delete_from_keycloak=true\" \\\n  -F \"force=false\"\n```",
        "operationId": "delete_group_api_api_servers_groups_delete_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_delete_group_api_api_servers_groups_delete_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/groups": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "List Groups Api",
        "description": "List all scope groups via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as GET /api/internal/list-groups\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Response:**\nReturns a list of all groups and their synchronization status.\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/groups \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "list_groups_api_api_servers_groups_get",
        "parameters": [
          {
            "name": "include_keycloak",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Keycloak"
            }
          },
          {
            "name": "include_scopes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Scopes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/rate": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Rate Server",
        "description": "Save integer ratings to server.",
        "operationId": "rate_server_api_servers__path__rate_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registry__api__agent_routes__RatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/rating": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Rating",
        "description": "Get server rating information.",
        "operationId": "get_server_rating_api_servers__path__rating_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/security-scan": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Server Security Scan",
        "description": "Get security scan results for a server.\n\nReturns the latest security scan results for the specified server,\nincluding threat analysis, severity levels, and detailed findings.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges or access to the server\n\n**Path Parameters:**\n- `path` (required): Server path (e.g., /cloudflare-docs)\n\n**Response:**\nReturns security scan results with analysis_results and tool_results.\n\n**Example:**\n```bash\ncurl -X GET http://localhost/api/servers/cloudflare-docs/security-scan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "get_server_security_scan_api_servers__path__security_scan_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/{path}/rescan": {
      "post": {
        "tags": [
          "Server Management"
        ],
        "summary": "Rescan Server",
        "description": "Trigger a manual security scan for a server.\n\nInitiates a new security scan for the specified server and returns\nthe results. This endpoint is useful for re-scanning servers after\nupdates or for on-demand security assessments.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges\n\n**Path Parameters:**\n- `path` (required): Server path (e.g., /cloudflare-docs)\n\n**Response:**\nReturns the newly generated security scan results.\n\n**Example:**\n```bash\ncurl -X POST http://localhost/api/servers/cloudflare-docs/rescan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "rescan_server_api_servers__path__rescan_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/servers/tools/{service_path}": {
      "get": {
        "tags": [
          "Server Management"
        ],
        "summary": "Get Service Tools Api",
        "description": "Get tool list for a service via JWT Bearer Token authentication (External API).\n\nThis endpoint provides the same functionality as GET /tools/{service_path}\nbut uses modern JWT Bearer token authentication.\n\n**Authentication:** JWT Bearer token (via nginx X-User header)\n**Authorization:** Requires valid JWT token from auth system\n\n**Path Parameters:**\n- `service_path` (required): Service path (e.g., /myservice or /all for all services)\n\n**Response:**\nReturns the list of tools available on the service, filtered by user permissions.\n\n**Example:**\n```bash\ncurl -X GET https://registry.example.com/api/servers/tools/myservice \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n\n# Get tools from all accessible services\ncurl -X GET https://registry.example.com/api/servers/tools/all \\\n  -H \"Authorization: Bearer $JWT_TOKEN\"\n```",
        "operationId": "get_service_tools_api_api_servers_tools__service_path__get",
        "parameters": [
          {
            "name": "service_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Service Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/register": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Register Agent",
        "description": "Register a new A2A agent in the registry.\n\nRequires publish_agent scope/permission.\n\nArgs:\n    request: Agent registration request data\n    user_context: Authenticated user context\n\nReturns:\n    201 with agent card and registration metadata\n\nRaises:\n    HTTPException: 409 if path exists, 422 if validation fails, 403 if unauthorized",
        "operationId": "register_agent_api_agents_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentRegistrationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "List Agents",
        "description": "List all agents filtered by user permissions.\n\nArgs:\n    query: Optional search query\n    enabled_only: Only return enabled agents\n    visibility: Filter by visibility level\n    user_context: Authenticated user context\n\nReturns:\n    List of agent info objects",
        "operationId": "list_agents_api_agents_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query string",
              "title": "Query"
            },
            "description": "Search query string"
          },
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Show only enabled agents",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Show only enabled agents"
          },
          {
            "name": "visibility",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by visibility",
              "title": "Visibility"
            },
            "description": "Filter by visibility"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/health": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Check Agent Health",
        "description": "Perform a live /ping health check against an agent endpoint.",
        "operationId": "check_agent_health_api_agents__path__health_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/rate": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Rate Agent",
        "description": "Save integer ratings to agent card.",
        "operationId": "rate_agent_api_agents__path__rate_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/registry__api__agent_routes__RatingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/rating": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get Agent Rating",
        "description": "Get agent rating information.",
        "operationId": "get_agent_rating_api_agents__path__rating_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/toggle": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Toggle Agent",
        "description": "Enable or disable an agent.\n\nRequires toggle_service permission for the agent.\n\nArgs:\n    path: Agent path\n    enabled: New enabled state\n    user_context: Authenticated user context\n\nReturns:\n    Updated agent status\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized",
        "operationId": "toggle_agent_api_agents__path__toggle_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          },
          {
            "name": "enabled",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean",
              "title": "Enabled"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get Agent",
        "description": "Get a single agent by path.\n\nPublic agents are visible without special permissions.\nPrivate and group-restricted agents require authorization.\n\nArgs:\n    path: Agent path\n    user_context: Authenticated user context\n\nReturns:\n    Complete agent card\n\nRaises:\n    HTTPException: 404 if not found, 403 if not authorized",
        "operationId": "get_agent_api_agents__path__get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Update Agent",
        "description": "Update an existing agent card.\n\nRequires modify_service permission for the agent.\nUser must be agent owner or admin.\n\nArgs:\n    path: Agent path\n    request: Updated agent data\n    user_context: Authenticated user context\n\nReturns:\n    Updated agent card\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized",
        "operationId": "update_agent_api_agents__path__put",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentRegistrationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Delete Agent",
        "description": "Delete an agent from the registry.\n\nRequires admin permission or agent ownership.\n\nArgs:\n    path: Agent path\n    user_context: Authenticated user context\n\nReturns:\n    204 No Content\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized",
        "operationId": "delete_agent_api_agents__path__delete",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/discover": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Discover Agents By Skills",
        "description": "Discover agents by required skills.\n\nReturns agents that have the specified skills, ranked by relevance.\n\nArgs:\n    skills: Required skill names or IDs\n    tags: Optional tag filters\n    max_results: Maximum number of results\n    user_context: Authenticated user context\n\nReturns:\n    List of matching agents with relevance scores\n\nRaises:\n    HTTPException: 400 if no skills provided",
        "operationId": "discover_agents_by_skills_api_agents_discover_post",
        "parameters": [
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Body_discover_agents_by_skills_api_agents_discover_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/discover/semantic": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Discover Agents Semantic",
        "description": "Discover agents using natural language semantic search.\n\nUses FAISS vector search to find agents matching the query intent.\n\nArgs:\n    query: Natural language query describing needed capabilities\n    max_results: Maximum number of results\n    user_context: Authenticated user context\n\nReturns:\n    List of matching agents with relevance scores\n\nRaises:\n    HTTPException: 400 if query is empty",
        "operationId": "discover_agents_semantic_api_agents_discover_semantic_post",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/security-scan": {
      "get": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Get Agent Security Scan",
        "description": "Get security scan results for an A2A agent.\n\nReturns the latest security scan results for the specified agent,\nincluding threat analysis, severity levels, and detailed findings\nfrom YARA, specification validation, and heuristic analyzers.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges or access to the agent\n\n**Path Parameters:**\n- `path` (required): Agent path (e.g., /code-reviewer)\n\n**Response:**\nReturns security scan results with analysis_results and findings.\n\n**Example:**\n```bash\ncurl -X GET http://localhost/api/agents/code-reviewer/security-scan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "get_agent_security_scan_api_agents__path__security_scan_get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/agents/{path}/rescan": {
      "post": {
        "tags": [
          "Agent Management"
        ],
        "summary": "Rescan Agent",
        "description": "Trigger a manual security scan for an A2A agent.\n\nInitiates a new security scan for the specified agent and returns\nthe results. This endpoint is useful for re-scanning agents after\nupdates or for on-demand security assessments.\n\n**Authentication:** JWT Bearer token or session cookie\n**Authorization:** Requires admin privileges\n\n**Path Parameters:**\n- `path` (required): Agent path (e.g., /code-reviewer)\n\n**Response:**\nReturns the newly generated security scan results.\n\n**Example:**\n```bash\ncurl -X POST http://localhost/api/agents/code-reviewer/rescan \\\n  --cookie-jar .cookies --cookie .cookies\n```",
        "operationId": "rescan_agent_api_agents__path__rescan_post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users": {
      "get": {
        "tags": [
          "Management API"
        ],
        "summary": "Management List Users",
        "description": "List Keycloak users for administrators.",
        "operationId": "management_list_users_api_management_iam_users_get",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 500,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users/m2m": {
      "post": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Create M2M User",
        "description": "Create a service account client and return its credentials.",
        "operationId": "management_create_m2m_user_api_management_iam_users_m2m_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/M2MAccountRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users/human": {
      "post": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Create Human User",
        "description": "Create a Keycloak human user and assign groups.",
        "operationId": "management_create_human_user_api_management_iam_users_human_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HumanUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/users/{username}": {
      "delete": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Delete User",
        "description": "Delete a Keycloak user by username.",
        "operationId": "management_delete_user_api_management_iam_users__username__delete",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Username"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/groups": {
      "get": {
        "tags": [
          "Management API"
        ],
        "summary": "Management List Keycloak Groups",
        "description": "List Keycloak IAM groups (admin only).",
        "operationId": "management_list_keycloak_groups_api_management_iam_groups_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Create Group",
        "description": "Create a new Keycloak group (admin only).",
        "operationId": "management_create_group_api_management_iam_groups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroupCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KeycloakGroupSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/management/iam/groups/{group_name}": {
      "delete": {
        "tags": [
          "Management API"
        ],
        "summary": "Management Delete Group",
        "description": "Delete a Keycloak group by name (admin only).",
        "operationId": "management_delete_group_api_management_iam_groups__group_name__delete",
        "parameters": [
          {
            "name": "group_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Group Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GroupDeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/search/semantic": {
      "post": {
        "tags": [
          "Semantic Search"
        ],
        "summary": "Unified semantic search for MCP servers and tools",
        "description": "Run a semantic search against MCP servers (and their tools) using FAISS embeddings.",
        "operationId": "semantic_search_api_search_semantic_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SemanticSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SemanticSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/health/ws/health_status": {
      "get": {
        "tags": [
          "Health Monitoring"
        ],
        "summary": "Health Status Http",
        "description": "HTTP endpoint that returns the same health status data as the WebSocket endpoint.\n\nThis handles cases where health checks are done via HTTP GET instead of WebSocket.",
        "operationId": "health_status_http_api_health_ws_health_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/health/ws/stats": {
      "get": {
        "tags": [
          "Health Monitoring"
        ],
        "summary": "Websocket Stats",
        "description": "Get WebSocket performance statistics for monitoring.",
        "operationId": "websocket_stats_api_health_ws_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v0.1/servers": {
      "get": {
        "tags": [
          "Anthropic Registry API",
          "Anthropic Registry API"
        ],
        "summary": "List MCP servers",
        "description": "Returns a paginated list of all registered MCP servers that the authenticated user can access.",
        "operationId": "list_servers_v0_1_servers_get",
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Pagination cursor",
              "title": "Cursor"
            },
            "description": "Pagination cursor"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 1000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum number of items",
              "title": "Limit"
            },
            "description": "Maximum number of items"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerList"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v0.1/servers/{serverName}/versions": {
      "get": {
        "tags": [
          "Anthropic Registry API",
          "Anthropic Registry API"
        ],
        "summary": "List server versions",
        "description": "Returns all available versions for a specific MCP server.",
        "operationId": "list_server_versions_v0_1_servers__serverName__versions_get",
        "parameters": [
          {
            "name": "serverName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Servername"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerList"
                }
              }
            }
          },
          "404": {
            "description": "Server not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v0.1/servers/{serverName}/versions/{version}": {
      "get": {
        "tags": [
          "Anthropic Registry API",
          "Anthropic Registry API"
        ],
        "summary": "Get server version details",
        "description": "Returns detailed information about a specific version of an MCP server. Use 'latest' to get the most recent version.",
        "operationId": "get_server_version_v0_1_servers__serverName__versions__version__get",
        "parameters": [
          {
            "name": "serverName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Servername"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerResponse"
                }
              }
            }
          },
          "404": {
            "description": "Server or version not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/.well-known/mcp-servers": {
      "get": {
        "tags": [
          "Discovery"
        ],
        "summary": "Get Wellknown Mcp Servers",
        "description": "Main endpoint handler for /.well-known/mcp-servers\nReturns JSON with all discoverable MCP servers",
        "operationId": "get_wellknown_mcp_servers__well_known_mcp_servers_get",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "User Context"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "summary": "Get Current User",
        "description": "Get current user information for React auth context",
        "operationId": "get_current_user_api_auth_me_get",
        "parameters": [
          {
            "name": "mcp_gateway_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Mcp Gateway Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Simple health check for load balancers and monitoring.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/version": {
      "get": {
        "summary": "Get Version",
        "description": "Get application version.",
        "operationId": "get_version_api_version_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/{full_path}": {
      "get": {
        "summary": "Serve React App",
        "description": "Serve React app for all non-API routes",
        "operationId": "serve_react_app__full_path__get",
        "parameters": [
          {
            "name": "full_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Full Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AgentRegistrationRequest": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name",
            "description": "Agent name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Agent description",
            "default": ""
          },
          "url": {
            "type": "string",
            "minLength": 1,
            "title": "Url",
            "description": "Agent endpoint URL"
          },
          "path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Path",
            "description": "Registry path (optional - auto-generated if not provided)"
          },
          "protocolVersion": {
            "type": "string",
            "title": "Protocolversion",
            "description": "A2A protocol version",
            "default": "1.0"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version",
            "description": "Agent version"
          },
          "provider": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider",
            "description": "Agent provider information {organization, url}"
          },
          "securitySchemes": {
            "anyOf": [
              {
                "additionalProperties": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Securityschemes",
            "description": "Security schemes configuration"
          },
          "skills": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skills",
            "description": "Agent skills"
          },
          "streaming": {
            "type": "boolean",
            "title": "Streaming",
            "description": "Supports streaming responses",
            "default": false
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags or list of tags",
            "default": ""
          },
          "license": {
            "type": "string",
            "title": "License",
            "description": "License information",
            "default": "N/A"
          },
          "visibility": {
            "type": "string",
            "title": "Visibility",
            "description": "Visibility: public, private, or group-restricted",
            "default": "public"
          }
        },
        "type": "object",
        "required": [
          "name",
          "url"
        ],
        "title": "AgentRegistrationRequest",
        "description": "API request model for agent registration.\n\nThis model is used for the agent registration API endpoint and converts\nform-style inputs (e.g., comma-separated tags) into the proper types.\nAccepts both snake_case (Python) and camelCase (A2A spec JSON) field names."
      },
      "AgentSearchResult": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "agent_name": {
            "type": "string",
            "title": "Agent Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "skills": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Skills"
          },
          "trust_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trust Level"
          },
          "visibility": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visibility"
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "default": false
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          }
        },
        "type": "object",
        "required": [
          "path",
          "agent_name",
          "relevance_score"
        ],
        "title": "AgentSearchResult"
      },
      "Body_add_server_to_groups_api_api_servers_groups_add_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_add_server_to_groups_api_api_servers_groups_add_post"
      },
      "Body_create_group_api_api_servers_groups_create_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "create_in_keycloak": {
            "type": "boolean",
            "title": "Create In Keycloak",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_create_group_api_api_servers_groups_create_post"
      },
      "Body_delete_group_api_api_servers_groups_delete_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "delete_from_keycloak": {
            "type": "boolean",
            "title": "Delete From Keycloak",
            "default": true
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_delete_group_api_api_servers_groups_delete_post"
      },
      "Body_discover_agents_by_skills_api_agents_discover_post": {
        "properties": {
          "skills": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Skills"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          }
        },
        "type": "object",
        "required": [
          "skills"
        ],
        "title": "Body_discover_agents_by_skills_api_agents_discover_post"
      },
      "Body_edit_server_submit_api_edit__service_path__post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          }
        },
        "type": "object",
        "required": [
          "name",
          "proxy_pass_url"
        ],
        "title": "Body_edit_server_submit_api_edit__service_path__post"
      },
      "Body_internal_add_server_to_groups_api_internal_add_to_groups_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_internal_add_server_to_groups_api_internal_add_to_groups_post"
      },
      "Body_internal_create_group_api_internal_create_group_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "create_in_keycloak": {
            "type": "boolean",
            "title": "Create In Keycloak",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_internal_create_group_api_internal_create_group_post"
      },
      "Body_internal_delete_group_api_internal_delete_group_post": {
        "properties": {
          "group_name": {
            "type": "string",
            "title": "Group Name"
          },
          "delete_from_keycloak": {
            "type": "boolean",
            "title": "Delete From Keycloak",
            "default": true
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "group_name"
        ],
        "title": "Body_internal_delete_group_api_internal_delete_group_post"
      },
      "Body_internal_register_service_api_internal_register_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "type": "boolean",
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          },
          "overwrite": {
            "type": "boolean",
            "title": "Overwrite",
            "default": true
          },
          "auth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Provider"
          },
          "auth_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Type"
          },
          "supported_transports": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Transports"
          },
          "headers": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Headers"
          },
          "tool_list_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool List Json"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "path",
          "proxy_pass_url"
        ],
        "title": "Body_internal_register_service_api_internal_register_post"
      },
      "Body_internal_remove_server_from_groups_api_internal_remove_from_groups_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_internal_remove_server_from_groups_api_internal_remove_from_groups_post"
      },
      "Body_internal_remove_service_api_internal_remove_post": {
        "properties": {
          "service_path": {
            "type": "string",
            "title": "Service Path"
          }
        },
        "type": "object",
        "required": [
          "service_path"
        ],
        "title": "Body_internal_remove_service_api_internal_remove_post"
      },
      "Body_internal_toggle_service_api_internal_toggle_post": {
        "properties": {
          "service_path": {
            "type": "string",
            "title": "Service Path"
          }
        },
        "type": "object",
        "required": [
          "service_path"
        ],
        "title": "Body_internal_toggle_service_api_internal_toggle_post"
      },
      "Body_login_submit_api_auth_login_post": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_submit_api_auth_login_post"
      },
      "Body_register_service_api_api_servers_register_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "type": "boolean",
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          },
          "overwrite": {
            "type": "boolean",
            "title": "Overwrite",
            "default": true
          },
          "auth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Provider"
          },
          "auth_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Type"
          },
          "supported_transports": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Transports"
          },
          "headers": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Headers"
          },
          "tool_list_json": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool List Json"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "path",
          "proxy_pass_url"
        ],
        "title": "Body_register_service_api_api_servers_register_post"
      },
      "Body_register_service_api_register_post": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "proxy_pass_url": {
            "type": "string",
            "title": "Proxy Pass Url"
          },
          "tags": {
            "type": "string",
            "title": "Tags",
            "default": ""
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "num_stars": {
            "type": "integer",
            "title": "Num Stars",
            "default": 0
          },
          "is_python": {
            "type": "boolean",
            "title": "Is Python",
            "default": false
          },
          "license": {
            "type": "string",
            "title": "License",
            "default": "N/A"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "path",
          "proxy_pass_url"
        ],
        "title": "Body_register_service_api_register_post"
      },
      "Body_remove_server_from_groups_api_api_servers_groups_remove_post": {
        "properties": {
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "group_names": {
            "type": "string",
            "title": "Group Names"
          }
        },
        "type": "object",
        "required": [
          "server_name",
          "group_names"
        ],
        "title": "Body_remove_server_from_groups_api_api_servers_groups_remove_post"
      },
      "Body_remove_service_api_api_servers_remove_post": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          }
        },
        "type": "object",
        "required": [
          "path"
        ],
        "title": "Body_remove_service_api_api_servers_remove_post"
      },
      "Body_toggle_service_api_api_servers_toggle_post": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "new_state": {
            "type": "boolean",
            "title": "New State"
          }
        },
        "type": "object",
        "required": [
          "path",
          "new_state"
        ],
        "title": "Body_toggle_service_api_api_servers_toggle_post"
      },
      "Body_toggle_service_route_api_toggle__service_path__post": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          }
        },
        "type": "object",
        "title": "Body_toggle_service_route_api_toggle__service_path__post"
      },
      "ErrorResponse": {
        "properties": {
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Error message"
          }
        },
        "type": "object",
        "required": [
          "error"
        ],
        "title": "ErrorResponse",
        "description": "Standard error response."
      },
      "GroupCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "GroupCreateRequest",
        "description": "Payload for creating a Keycloak group."
      },
      "GroupDeleteResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "GroupDeleteResponse",
        "description": "Response when a Keycloak group is deleted."
      },
      "GroupListResponse": {
        "properties": {
          "groups": {
            "items": {
              "$ref": "#/components/schemas/KeycloakGroupSummary"
            },
            "type": "array",
            "title": "Groups"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "GroupListResponse",
        "description": "Response for listing Keycloak groups."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HumanUserRequest": {
        "properties": {
          "username": {
            "type": "string",
            "minLength": 1,
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "firstname": {
            "type": "string",
            "minLength": 1,
            "title": "Firstname"
          },
          "lastname": {
            "type": "string",
            "minLength": 1,
            "title": "Lastname"
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Groups"
          },
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Initial password (optional, generated elsewhere)"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "firstname",
          "lastname",
          "groups"
        ],
        "title": "HumanUserRequest",
        "description": "Payload for creating a Keycloak human user."
      },
      "KeycloakGroupSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "path"
        ],
        "title": "KeycloakGroupSummary",
        "description": "Keycloak group information."
      },
      "KeycloakUserSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "firstName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Firstname"
          },
          "lastName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lastname"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": true
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Groups"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username"
        ],
        "title": "KeycloakUserSummary",
        "description": "Subset of Keycloak user information exposed through the API."
      },
      "M2MAccountRequest": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name"
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Groups"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "name",
          "groups"
        ],
        "title": "M2MAccountRequest",
        "description": "Payload for creating a Keycloak service account client."
      },
      "MatchingToolResult": {
        "properties": {
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score",
            "default": 0.0
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          }
        },
        "type": "object",
        "required": [
          "tool_name"
        ],
        "title": "MatchingToolResult"
      },
      "Package": {
        "properties": {
          "registryType": {
            "type": "string",
            "title": "Registrytype",
            "description": "Registry type (npm, pypi, oci, etc.)"
          },
          "identifier": {
            "type": "string",
            "title": "Identifier",
            "description": "Package identifier or URL"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Specific package version"
          },
          "registryBaseUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Registrybaseurl",
            "description": "Base URL of package registry"
          },
          "transport": {
            "additionalProperties": true,
            "type": "object",
            "title": "Transport",
            "description": "Transport configuration"
          },
          "runtimeHint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Runtimehint",
            "description": "Runtime hint (npx, uvx, docker, etc.)"
          }
        },
        "type": "object",
        "required": [
          "registryType",
          "identifier",
          "version",
          "transport"
        ],
        "title": "Package",
        "description": "Package information for MCP server distribution."
      },
      "PaginationMetadata": {
        "properties": {
          "nextCursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nextcursor",
            "description": "Cursor for next page"
          },
          "count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Count",
            "description": "Number of items in current page"
          }
        },
        "type": "object",
        "title": "PaginationMetadata",
        "description": "Pagination information for server lists."
      },
      "Repository": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "Repository URL for browsing source code"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Repository hosting service identifier (e.g., 'github')"
          },
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id",
            "description": "Repository ID from hosting service"
          },
          "subfolder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subfolder",
            "description": "Path within monorepo"
          }
        },
        "type": "object",
        "required": [
          "url",
          "source"
        ],
        "title": "Repository",
        "description": "Repository metadata for MCP server source code."
      },
      "SemanticSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 512,
            "minLength": 1,
            "title": "Query",
            "description": "Natural language query"
          },
          "entity_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "enum": [
                    "mcp_server",
                    "tool",
                    "a2a_agent"
                  ]
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Types",
            "description": "Optional entity filters"
          },
          "max_results": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Max Results",
            "description": "Maximum results per entity collection",
            "default": 10
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SemanticSearchRequest"
      },
      "SemanticSearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "servers": {
            "items": {
              "$ref": "#/components/schemas/ServerSearchResult"
            },
            "type": "array",
            "title": "Servers"
          },
          "tools": {
            "items": {
              "$ref": "#/components/schemas/ToolSearchResult"
            },
            "type": "array",
            "title": "Tools"
          },
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AgentSearchResult"
            },
            "type": "array",
            "title": "Agents"
          },
          "total_servers": {
            "type": "integer",
            "title": "Total Servers",
            "default": 0
          },
          "total_tools": {
            "type": "integer",
            "title": "Total Tools",
            "default": 0
          },
          "total_agents": {
            "type": "integer",
            "title": "Total Agents",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SemanticSearchResponse"
      },
      "ServerDetail": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Server name in reverse-DNS format"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Server description"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Server version"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Human-readable server name"
          },
          "repository": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Repository"
              },
              {
                "type": "null"
              }
            ],
            "description": "Repository information"
          },
          "websiteUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Websiteurl",
            "description": "Server website URL"
          },
          "packages": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/Package"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Packages",
            "description": "Package distributions"
          },
          "_meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta",
            "description": "Extensible metadata"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "version"
        ],
        "title": "ServerDetail",
        "description": "Detailed MCP server information."
      },
      "ServerList": {
        "properties": {
          "servers": {
            "items": {
              "$ref": "#/components/schemas/ServerResponse"
            },
            "type": "array",
            "title": "Servers",
            "description": "List of servers"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PaginationMetadata"
              },
              {
                "type": "null"
              }
            ],
            "description": "Pagination info"
          }
        },
        "type": "object",
        "required": [
          "servers"
        ],
        "title": "ServerList",
        "description": "Response for server list queries."
      },
      "ServerResponse": {
        "properties": {
          "server": {
            "$ref": "#/components/schemas/ServerDetail",
            "description": "Server details"
          },
          "_meta": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Meta",
            "description": "Registry-managed metadata"
          }
        },
        "type": "object",
        "required": [
          "server"
        ],
        "title": "ServerResponse",
        "description": "Response for single server query."
      },
      "ServerSearchResult": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "num_tools": {
            "type": "integer",
            "title": "Num Tools",
            "default": 0
          },
          "is_enabled": {
            "type": "boolean",
            "title": "Is Enabled",
            "default": false
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          },
          "matching_tools": {
            "items": {
              "$ref": "#/components/schemas/MatchingToolResult"
            },
            "type": "array",
            "title": "Matching Tools"
          }
        },
        "type": "object",
        "required": [
          "path",
          "server_name",
          "relevance_score"
        ],
        "title": "ServerSearchResult"
      },
      "ToolSearchResult": {
        "properties": {
          "server_path": {
            "type": "string",
            "title": "Server Path"
          },
          "server_name": {
            "type": "string",
            "title": "Server Name"
          },
          "tool_name": {
            "type": "string",
            "title": "Tool Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "relevance_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance Score"
          },
          "match_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Context"
          }
        },
        "type": "object",
        "required": [
          "server_path",
          "server_name",
          "tool_name",
          "relevance_score"
        ],
        "title": "ToolSearchResult"
      },
      "UserDeleteResponse": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "username"
        ],
        "title": "UserDeleteResponse",
        "description": "Standard response returned when a Keycloak user is deleted."
      },
      "UserListResponse": {
        "properties": {
          "users": {
            "items": {
              "$ref": "#/components/schemas/KeycloakUserSummary"
            },
            "type": "array",
            "title": "Users"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "UserListResponse",
        "description": "Wrapper for list users endpoint."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "registry__api__agent_routes__RatingRequest": {
        "properties": {
          "rating": {
            "type": "integer",
            "title": "Rating"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "RatingRequest"
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Bearer token obtained from Keycloak OAuth2 authentication. Include in Authorization header as: `Authorization: Bearer <token>`"
      }
    }
  }
}
